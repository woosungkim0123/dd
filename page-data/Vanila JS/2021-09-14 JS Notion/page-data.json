{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/Vanila JS/2021-09-14 JS Notion/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2><strong>기초 개념</strong></h2>\n<p>자바스크립트는 웹페이지를 동적으로 제작할 수 있게 도와주는 언어</p>\n<br>\n<p>인간에게 친숙한 언어라서 입문 단계에서 굉장히 빠르게 습득이 가능한 언어</p>\n<ul>\n<li>high level language = 인간에게 친숙한 언어</li>\n<li>low level language = 컴퓨터가 이해하기 쉬운 언어</li>\n</ul>\n<h2>HTML 안에 JS를 포함</h2>\n<p>사용자가 HTML 파일을 받았을 때 브라우저는 처음부터 차례대로 분석(parsing)하게 된다.</p>\n<h3>1. head 안에 스크립트</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Document<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>HTML을 분석(parsing)하다가 script태그가 보이면 HTML 분석(parsing)을 멈추고 필요한 JS파일을 서버에서 가져오고(fetching) 실행(executing)한 다음 다시 HTML 분석(parsing)으로 넘어가게 된다.</p>\n<p>만약 JS파일이 매우 크거나 인터넷이 느리면 사용자가 웹사이트를 보기까지 많은 시간이 소요된다.</p>\n<br>\n<p>결론 : script를 head에 포함하는 방법은 좋은 방법이 아니다.</p>\n<h3>2. body 마지막에 스크립트</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Document<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    ...\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>body 맨 끝에서 script를 추가하면 HTML 모두 분석(parsing)해서 페이지가 준비가 된 다음 JS를 서버에서 가져오고 실행하게 된다</p>\n<br>\n<p>장점 : JS를 받기 전에 페이지가 준비되어서 사용자가 볼 수 있다는 것</p>\n<br>\n<p>단점 : JS에 의존적인 사이트일수록 여전히 많은 시간이 소요된다.</p>\n<h3>3. head + async</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Document<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">async</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>asyn는 boolean 타입의 속성 값이라서 선언만 해도 True로 설정</p>\n<p>브라우저가 순차적으로 분석(parsing)을 하다가 async가 있으면 병렬로 JS파일을 가져오게 된다.</p>\n<p>JS파일을 다 가져오게 되면 그 때 분석(parsing)을 멈추고 가져온 JS파일을 실행하게 된다.</p>\n<p>실행을 다하고 나머지 HTML을 분석(parsing)하게 된다</p>\n<p>장점 : JS를 가져오는 것이 병렬로 일어나기 때문에 가져오는 시간 단축</p>\n<p>단점 : JS가 HTML 분석(parsing)되기도 전에 실행되기 때문에 JS에서 DOM을 조작하는 내용이 있을 경우 그 요소가 정의 되지 않을 가능성이 있음</p>\n<h3>4. head + defer</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Document<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>브라우저가 순차적으로 분석(parsing)을 하다가 defer이 있으면 병렬로 JS파일을 가져오게 되는 것까지는 async랑 같으나 남은 HTML 분석(parsing)이 모두 끝나고 JS를 실행시킴</p>\n<h3>5. 다수의 JS 파일</h3>\n<p>async로 가져오게 되면 먼저 다운로드 된 JS파일을 실행하게 된다(정의된 순서 상관없이 다운로드가 먼저 된 순서) ⇒ 순서에 의존적이라면 문제 발생</p>\n<p>defer로 가져오게 되면 parsing하는 동안 병렬로 다수의 JS파일을 가져온 다음 분석(parsing)이 끝난 이후 정의된 순차적으로 실행됨</p>\n<h2>Source</h2>\n<ul>\n<li>\n<p>드림코딩</p>\n<p><a href=\"https://www.youtube.com/watch?v=tJieVCgGzhs&#x26;t=606s\" target=\"_blank\" rel=\"nofollow\">https://www.youtube.com/watch?v=tJieVCgGzhs&#x26;t=606s</a></p>\n</li>\n<li>\n<p>MDN</p>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Web/JavaScript\" target=\"_blank\" rel=\"nofollow\">https://developer.mozilla.org/ko/docs/Web/JavaScript</a></p>\n</li>\n</ul>","fields":{"slug":"/Vanila JS/2021-09-14 JS Notion/"},"frontmatter":{"title":"자바스크립트 개념","summary":"JS 기초, async vs defer","date":"2021.09.14.","categories":["Javascript"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAASABQDASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAUGAgMIB//EABgBAAIDAAAAAAAAAAAAAAAAAAQFBggJ/9oADAMBAAIQAxAAAAHs2nXPw7JqxnWSIQt1I5DMLYFJ/wD/xAAcEAABBQADAAAAAAAAAAAAAAAEAQIDBQYAEBP/2gAIAQEAAQUCOtbJJMjJZuG5oimJW2VjjnGgTykgqKMr/CB/X//EACMRAAIBAgYCAwAAAAAAAAAAAAECAwQSABETISIxEEF0kcP/2gAIAQMBAT8BqpTDVLKahZNMGyKSdaeHUku4qoyEsiRI3GR3ZbzKq8bcKQyhh0wBHrYjP3v94PUvzE/Lx//EACIRAAMBAAIBAwUAAAAAAAAAAAECAwQFERIAEBQhMTJ1sf/aAAgBAgEBPwHicnz+LtkjxrSGlpm+3LxmjlNwzZGh3StAmiuTNo0649Uwxyy0VyTw2oBet1ojTo8268puyN0VYeSkqemUlWHY+hUlT9wSPR/LN+rf+aPb/8QAJhAAAgICAAYCAgMAAAAAAAAAAgMBBAUSAAYRExQhFSIQJDFBcv/aAAgBAQAGPwJ1fFYg2yneHZPLMnGYav2x2M9tXZHIwuPt+hS8c+kj5y/5hOW5kzwWMlzGlNijiBivjsbQp9WtqpxWOJjbjbL6zVOyFizau2DZqmJWpMDPFyilq/kMir4yogWB5EvyYlWWcKgu5qlRPtmeuoIrOZM6rLjK4+OYMXisnTTXxF3D8wVA7tgcaGuNdQrvKnlpU0CAql3l+yxbzlbq64vh14p2XV2VXWKtdzazdu5XY1IGaWbwJ7rKZAtxE+sfcRPrERbmuibYD2RsypfkCkp6koXa9yFzPuQgtZn+uO+aVE9PpTiWEtVHr0tkxuEf5mPx/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARECFBMf/aAAgBAQABPyHfIeFQdaqhBvYyM0KsCI3qA4uTl1bp2gYOkugtlx31XCDgiFsqT5PHO7cWyMgUD0YS28jGKpY+yY8ZZQqVUEqvcf/aAAwDAQACAAMAAAAQbNBA/8QAGBEBAQEBAQAAAAAAAAAAAAAAAREhMRD/2gAIAQMBAT8QjqD0gL2YjzBKqppQqIUAGOgE4g567//EABgRAQEAAwAAAAAAAAAAAAAAAAERABAh/9oACAECAQE/EIh8QscxvvxWsVxMb6y+EWxYLoL/AP/EABgQAQEBAQEAAAAAAAAAAAAAAAEAESEQ/9oACAEBAAE/EOAYuZYgIATe8vaIXd0yL0F+qyPjBNipS/Ex4iC3XCvhBzFcFUzCEWOouyboWo8BfnI4XY2lGmv0faAKlv/Z"},"images":{"fallback":{"src":"/static/9ec1ce1fffcf86506708c068fff71fd9/f4073/js-main.jpg","srcSet":"/static/9ec1ce1fffcf86506708c068fff71fd9/cfbca/js-main.jpg 90w,\n/static/9ec1ce1fffcf86506708c068fff71fd9/35a82/js-main.jpg 179w,\n/static/9ec1ce1fffcf86506708c068fff71fd9/f4073/js-main.jpg 358w","sizes":"(min-width: 358px) 358px, 100vw"},"sources":[{"srcSet":"/static/9ec1ce1fffcf86506708c068fff71fd9/f2a2e/js-main.webp 90w,\n/static/9ec1ce1fffcf86506708c068fff71fd9/d341d/js-main.webp 179w,\n/static/9ec1ce1fffcf86506708c068fff71fd9/186de/js-main.webp 358w","type":"image/webp","sizes":"(min-width: 358px) 358px, 100vw"}]},"width":358,"height":325.99999999999994}}}}}}]}},"pageContext":{"slug":"/Vanila JS/2021-09-14 JS Notion/"}},
    "staticQueryHashes": []}