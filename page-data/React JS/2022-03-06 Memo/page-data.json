{
    "componentChunkName": "component---src-templates-post-template-tsx",
    "path": "/React JS/2022-03-06 Memo/",
    "result": {"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>부모 state 변경시 렌더링 과정과 memo에 대해 알아보자</h2>\n<h3>부모 state 변경시</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>value<span class=\"token punctuation\">,</span> setValue<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"저장\"</span><span class=\"token punctuation\">)</span>\r\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">changeValue</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"계속\"</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Btn</span></span> <span class=\"token attr-name\">banana</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">changeValue</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>changeValue<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\r\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Btn</span></span> <span class=\"token attr-name\">banana</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>정지<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\r\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Test2</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\r\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">Btn</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>banana<span class=\"token punctuation\">,</span> changeValue<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>banana<span class=\"token punctuation\">,</span> <span class=\"token string\">'render'</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// 4번</span>\r\n\r\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n\t\t<span class=\"token operator\">...</span>\r\n\t<span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">Test2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\r\n\tconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Test render'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 2번</span>\r\n\r\n\t<span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>\r\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Test</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n\t<span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>처음 접속시 App 컴포넌트에 있는 내용을 전부 렌더링 함(콘솔 3번)</p>\n<br>\n<p>그 후 버튼을 클릭해서 state가 변경되었을 때(콘솔 3번, 총 6번)</p>\n<br>\n<p>부모 컴포넌트의 state가 변경되면 부모의 모든 자식들은 다시 그려지기 때문(re-rendering)</p>\n<h3>문제 제기</h3>\n<p>첫번째 Btn 컴포넌트에 적용되는 state만 변경할 뿐인데 모든 것을 다시 그리는 건 비효율적</p>\n<br>\n<p>추후에 어플리케이션이 느려지는 원인이 될 수 있다</p>\n<br>\n<p>이때 사용하는 것이 React memo(memorize : 기억)</p>\n<br>\n<p>React에게 어떤 컴포넌트가 다시 그려지는 걸 원하지 않는다고 말할 수 있다(props가 변경되지 않는 한에서)</p>\n<h3>Memo</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> MemorizedBtn <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">memo</span><span class=\"token punctuation\">(</span>Btn<span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">// 이것만 사용하면 props가 변한 Btn과 Test2가 리 렌더링됨</span>\r\n<span class=\"token keyword\">const</span> MemorizeTest <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">memo</span><span class=\"token punctuation\">(</span>Test2<span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\">// 이것도 memo로 하면 props가 변할때만 리렌더링됨</span>\r\n\r\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\r\n  <span class=\"token operator\">...</span>\r\n\r\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\r\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\r\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MemorizedBtn</span></span> <span class=\"token attr-name\">banana</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">changeValue</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>changeValue<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\r\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MemorizedBtn</span></span> <span class=\"token attr-name\">banana</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>정지<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\r\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MemorizeTest</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\r\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>결과적으로 첫 렌더링 떄 3번, state가 변경될 때 첫번째 Btn만이 리 렌더링 되어서 총 4번의 콘솔이 찍히게 된다.</p>\n<h2>Source</h2>\n<ul>\n<li>\n<p>노마드 코더 리액트 강의</p>\n<p><a href=\"https://nomadcoders.co/\" target=\"_blank\" rel=\"nofollow\">https://nomadcoders.co/</a></p>\n</li>\n</ul>","fields":{"slug":"/React JS/2022-03-06 Memo/"},"frontmatter":{"title":"Memo","summary":"렌더링 과정을 보면서 Memo 배우기","date":"2022.03.06.","categories":["React","Javascript"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8UlEQVQoz52T7WrCUAyGe/+X0AvoX4f7RBi9gFGETfZnCGIZrNha9ByPiCd5RpWCK21nDYQEcvLyJOQEdJiqtsZm3rTgGjHnz3EvilzU2oSD/wgrsS+nvFtlZpXNUXspOwnrhsVeeS2FcS48FsLn7gbC+mFFMzXKZC2MVsJ9LrxtlZ9DN2UP4Slj7oRJ4Rnnnodc+DD+zx6v3mHddATmB5g6mDnYNeqDRt4aQ5IkfBcl5bpgtTEslkuMMcNHrizLMsIwZHw3IooiXp6fiOOYNE3PlCLD77BqstaeqIy1OOfw3g/fYd9vuOkOL2+tzbsIfwEPDa31cI0wfgAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/bf3fa5e09a7d77ec7556f0458691eb7a/74e29/React.png","srcSet":"/static/bf3fa5e09a7d77ec7556f0458691eb7a/98324/React.png 97w,\n/static/bf3fa5e09a7d77ec7556f0458691eb7a/74d80/React.png 193w,\n/static/bf3fa5e09a7d77ec7556f0458691eb7a/74e29/React.png 386w","sizes":"(min-width: 386px) 386px, 100vw"},"sources":[{"srcSet":"/static/bf3fa5e09a7d77ec7556f0458691eb7a/865bc/React.webp 97w,\n/static/bf3fa5e09a7d77ec7556f0458691eb7a/918e8/React.webp 193w,\n/static/bf3fa5e09a7d77ec7556f0458691eb7a/1875a/React.webp 386w","type":"image/webp","sizes":"(min-width: 386px) 386px, 100vw"}]},"width":386,"height":225}}}}}}]}},"pageContext":{"slug":"/React JS/2022-03-06 Memo/"}},
    "staticQueryHashes": []}