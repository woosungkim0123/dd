{"componentChunkName":"component---src-templates-post-template-tsx","path":"/2023_06_10_ngrinder/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1></h1>\n<p><a href=\"/2023_05_30_performance_test\">1. 성능 테스트에 대해 알아보자</a></p>\n<p><strong>2. nGrinder를 사용해 성능 테스트를 해보자</strong></p>\n<h1>nGrinder</h1>\n<p>네이버에서 제공하는 서버 부하 테스트 오픈 소스 프로젝트이며 사용하기가 쉽다는 매우 큰 장점이 있습니다.</p>\n<br>\n<h2>nGrinder 구성</h2>\n<p>nGrinder는 Controller와 Agent 구조를 사용하여 타겟 서버에 대한 성능 테스트를 수행합니다.</p>\n<br>\n<h3>nGrinder Controller</h3>\n<ul>\n<li>\n<p>가상 사용자 설정, 테스트 스크립트와 같은 성능 테스트 관련 설정을 관리합니다.</p>\n</li>\n<li>\n<p>테스트 스크립트를 바탕으로 nGrinder Agent들에게 명령을 내리는 역할을 합니다.</p>\n</li>\n<li>\n<p>타겟 서버에 API 호출을 한 후, Agent들로부터 결과를 수집하고 리포팅 기능을 제공합니다.</p>\n</li>\n</ul>\n<h3>nGrinder Agent</h3>\n<ul>\n<li>\n<p>Controller로부터 받은 명령에 따라 타겟 서버에 대한 API 호출을 수행합니다.</p>\n</li>\n<li>\n<p>테스트 실행 중 생성된 데이터와 결과를 Controller로 전송합니다.</p>\n</li>\n<li>\n<p>여러 Agent가 동시에 작동함으로써 대규모의 부하 테스트를 가능하게 합니다.</p>\n</li>\n</ul>\n<br>\n<p>nGrinder 시스템에서 Controller는 테스트의 중심점으로서 모든 테스트를 조정하며, Agent는 실제 부하를 생성하여 성능 테스트를 실행하는 역할을 합니다.</p>\n<br>\r\n<br>\r\n<center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a85ef56cac6daaea0dd43fa670416187/0eb09/ngrinder_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB9UlEQVR42m2S2ZLSQBSGeVcfwefw2ltrLMs7daZQS4dtWEOAbJPuEAJkX0gwAYZ0mhC6zSxlzeCcu7N85/xd/VfoeRBCCX2lel/cxVHn++d/7cqrcwU5HdI4Tdwg9F3PDkIPoX3ZumqP37x9v0Xl/lM5dg4XpNjsY9MxA0teWxxUJRlMeGmiTkFv6VwJiy5vR/Hd3T5FKKu80FsK+xNGI4lhhsJi5mwjPwk2aD0SxMsfN+IUxEmUH1CapkVRYIzP4VxzlUZrPJv4keH4uuEv5yur1mUuPl2q89tVFKzXCUqzojhl2X/wUTBmuqQP+r4g9xmW04AdLoAOhZlkBZrr2rzAd3rdVRjiF/DjBuAmYOa0bqDGM9LACOHcgdBUDV+BFlQsOLfB0pZtTzsej5WzzyCiRcZmgmJ2XJd+Vp1u25QkhmVVfaw7gmyIwAALmzM9pXx25RHD+PAguqCcSWSXJgj3p4bAKmJryLXabF21J4o1muvTIcvIi4HugNIN9zBCuNZkGQmScEdbU+ImBLp0l+EjXjnL8bA+HFRvpQYAzfbgV6Nb5aY1L9SfTJJsth8uvn6rdYqPffLuN/nC0eGSaisKPaqGVAmwsIwZ0Wi22NG1rLGGAzOMnuA8z68bvR7D0x0uD1KU0/RANxnNi+dGJfSZbx+Sv1ZYjUonc4qoAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a85ef56cac6daaea0dd43fa670416187/a59e9/ngrinder_1.webp 192w,\n/static/a85ef56cac6daaea0dd43fa670416187/0ca9f/ngrinder_1.webp 384w,\n/static/a85ef56cac6daaea0dd43fa670416187/601b1/ngrinder_1.webp 500w\"\n              sizes=\"(max-width: 500px) 100vw, 500px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a85ef56cac6daaea0dd43fa670416187/3b721/ngrinder_1.png 192w,\n/static/a85ef56cac6daaea0dd43fa670416187/66595/ngrinder_1.png 384w,\n/static/a85ef56cac6daaea0dd43fa670416187/0eb09/ngrinder_1.png 500w\"\n            sizes=\"(max-width: 500px) 100vw, 500px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a85ef56cac6daaea0dd43fa670416187/0eb09/ngrinder_1.png\"\n            alt=\"ngrinder 구성\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n</center>\r\n<br>\r\n<br>\n<h2>nGrinder AWS 환경 설정</h2>\n<p>직접 nGrinder를 사용해 가며 성능 테스트를 진행해보겠습니다.</p>\n<p>저는 총 3개의 AWS EC2와 Docker Compose를 사용하여 구성하겠습니다. Agent서버를 한대만 두었지만 여러대가 필요한 경우 추가로 인스턴스를 늘려서 사용하시면 됩니다.</p>\n<ul>\n<li>1번 백엔드 API 서버 - 111.111.111.111</li>\n<li>2번 nGrinder Controller - 222.222.222.222</li>\n<li>3번 nGrinder Agent - 333.333.333.333</li>\n</ul>\n<p>Agent에서 균등하게 부하를 만드려면 최적화가 잘되어야하고 리소스 환경이 좋아야 합니다. 즉, Controller와 Agent는 실제 물리적, 하드웨어적으로 분리시키는 게 좋습니다.</p>\n<p>또, Agent 서버는 우리가 개발한 API서버의 스펙 이상이여야 합니다. Agent 서버는 테스트를 위해 많은 요청을 API 서버에 보내는데 API 서버보다 성능이 떨어지면 Agent 서버가 먼저 멈추거나 느려질 수 있습니다. 이러면 API 서버가 얼마나 많은 요청을 처리할 수 있는지 제대로 테스트할 수 없게 됩니다.</p>\n<br>\n<p><strong>주의 사항 1</strong></p>\n<p>AWS를 사용하시는 경우 3개의 인스턴스를 모두 같은 가용 영역에 두고 Private IP를 사용하여 통신 해야 성능 테스트로 인한 비용이 발생하지 않습니다.</p>\n<br>\n<h3>docker compose를 활용한 nGrinder 설정</h3>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">docker</span> compose up <span class=\"token parameter variable\">-d</span></code></pre></div>\n<p><strong>Controller</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token comment\"># docker-compose.yml</span>\r\n<span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'3.8'</span>\r\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">controller</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> nGrinder<span class=\"token punctuation\">-</span>controller\r\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> ngrinder/controller\r\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always \r\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"4040:80\"</span> <span class=\"token comment\"># nGrinder 컨트롤러 페이지</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"16001:16001\"</span> <span class=\"token comment\"># Controller와 Agent 간의 통신을 위한 포트</span>\r\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"12000-12009:12000-12009\"</span> <span class=\"token comment\"># nGrinder Agent가 부하 테스트의 결과를 컨트롤러로 전송하는 데 사용하는 포트</span>\r\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> ./ngrinder<span class=\"token punctuation\">-</span>controller<span class=\"token punctuation\">:</span>/opt/ngrinder<span class=\"token punctuation\">-</span>controller</code></pre></div>\n<br>\n<p><strong>Agent</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"language-yml\"><code class=\"language-yml\"><span class=\"token comment\"># docker-compose.yml</span>\r\n<span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'3.8'</span>\r\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token key atrule\">agent</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> nGrinder<span class=\"token punctuation\">-</span>agent\r\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> ngrinder/agent\r\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always\r\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> 222.222.222.222<span class=\"token punctuation\">:</span><span class=\"token number\">4040</span> <span class=\"token comment\"># 알맞는 ip를 설정해주세요</span>\r\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\r\n      <span class=\"token punctuation\">-</span> ./agent<span class=\"token punctuation\">:</span>/opt/ngrinder<span class=\"token punctuation\">-</span>agent</code></pre></div>\n<br>\n<p><strong>주의 사항 2</strong></p>\n<p>docker 설정시 volume 옵션을 사용하지 않으면 컨테이너가 삭제시 테스트 이력, 스크립트 파일들이 모두 삭제됩니다.</p>\n<br>\n<h2>nGrinder 성능 테스트 방법</h2>\n<p>Controller 서버의 4040포트로 접속하면 nGrinder 메인 화면이 보입니다.</p>\n<p>아이디와 비밀번호는 기본적으로 admin으로 동일합니다.</p>\n<br>\r\n<center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 375px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/79d500ff873464cb335648bbbc1622b0/ae393/ngrinder_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJ0lEQVR42pVTXW8SQRTlT/kTfOyTf8bEvlEJD0CCthgiCQkkPlixEKkvarSxBF80JhBrDFALC/vFwnzu9+x1djeAD9LYm5PJzcw9954zu5OBOKIdogj+OzK7dDmA0Ia7RAa4CbM+MB1e3INJC4xL4VEhRHqcJmEYiiTSnW2eiWnvHsLLA/j+DN7eh08PousigGOa1mKxkBWMsbTU931CSGxyYy2RHbhwegDrCSw+gq1237TPzl5XKpV+v9/pdFqtVqPR6PV6zWazXC53u912uz0cDBNyJECEEDjxGrd3nx6fFIrFUqlUr9er1WqtVstms4VC4ejo8eHho3w+n8vlRqPR3xeWKJGCImGaJsZ4PB4PhkOEsGGaqqatEfpx9VNVNUVRNE2TFmKy73sJXLkGCYQIRRhE0meUXlUo1UWJLplHyYAgkHQvwyjeAhGKKFthssZkhbCFCCbYsFY3ujU1LMVYUoK2kPUZzkgKSslEwzMDWcxjPlAPkAsWcbrDefFicnL5+/mXG0KwvamX2JElTERNxJaYEcenboCdgHP+6ts0//7X8efJk4sRvoXMGZXBOIttCxGEgWuzr9f6+XB+PlA+XM2lOv5PsvRgGro6n6lzRZlNl4bOKGEsHrVaGrJL4DmU4r3k9coyNDWGrmG0chxu24xxbi4tKg3Y9l6ynCD/RFU3ZKnrefJ9hYl6ifjjCCG7sH2yU882ZzaXY2LYG+z22W3ku+EPWGSsyJCC4psAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/79d500ff873464cb335648bbbc1622b0/a59e9/ngrinder_2.webp 192w,\n/static/79d500ff873464cb335648bbbc1622b0/e922d/ngrinder_2.webp 375w\"\n              sizes=\"(max-width: 375px) 100vw, 375px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/79d500ff873464cb335648bbbc1622b0/3b721/ngrinder_2.png 192w,\n/static/79d500ff873464cb335648bbbc1622b0/ae393/ngrinder_2.png 375w\"\n            sizes=\"(max-width: 375px) 100vw, 375px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/79d500ff873464cb335648bbbc1622b0/ae393/ngrinder_2.png\"\n            alt=\"ngrinder 메인화면\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n</center>\r\n<br>\n<p>QuickStart에 url을 입력하여 간단한 테스트를 진행할 수도 있고 스크립트를 작성하여 자신의 원하는 테스트를 진행할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token annotation punctuation\">@RunWith</span><span class=\"token punctuation\">(</span>GrinderRunner<span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TestRunner</span> <span class=\"token punctuation\">{</span>\r\n\r\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> GTest test\r\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> HTTPRequest request\r\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> Map<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> String<span class=\"token operator\">></span> headers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\r\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> Map<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span> params <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\r\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> List<span class=\"token operator\">&lt;</span>Cookie<span class=\"token operator\">></span> cookies <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n\r\n  <span class=\"token comment\">// 프로세스 별로 1번만 실행</span>\r\n\t<span class=\"token annotation punctuation\">@BeforeProcess</span>\r\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">beforeProcess</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\tHTTPRequestControl<span class=\"token punctuation\">.</span><span class=\"token function\">setConnectionTimeout</span><span class=\"token punctuation\">(</span><span class=\"token number\">300000</span><span class=\"token punctuation\">)</span>\r\n\t\ttest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GTest</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"111.111.111.111\"</span></span><span class=\"token punctuation\">)</span>\r\n\t\trequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HTTPRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\t\tgrinder<span class=\"token punctuation\">.</span>logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"before process.\"</span></span><span class=\"token punctuation\">)</span>\r\n\t<span class=\"token punctuation\">}</span>\r\n  <span class=\"token comment\">// 스레드 별로 한번만 실행</span>\r\n\t<span class=\"token annotation punctuation\">@BeforeThread</span>\r\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">beforeThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\ttest<span class=\"token punctuation\">.</span><span class=\"token function\">record</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"test\"</span></span><span class=\"token punctuation\">)</span>\r\n\t\tgrinder<span class=\"token punctuation\">.</span>statistics<span class=\"token punctuation\">.</span>delayReports <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\r\n\t\tgrinder<span class=\"token punctuation\">.</span>logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"before thread.\"</span></span><span class=\"token punctuation\">)</span>\r\n\t<span class=\"token punctuation\">}</span>\r\n\r\n\t<span class=\"token annotation punctuation\">@Before</span>\r\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">before</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\trequest<span class=\"token punctuation\">.</span><span class=\"token function\">setHeaders</span><span class=\"token punctuation\">(</span>headers<span class=\"token punctuation\">)</span>\r\n\t\tCookieManager<span class=\"token punctuation\">.</span><span class=\"token function\">addCookies</span><span class=\"token punctuation\">(</span>cookies<span class=\"token punctuation\">)</span>\r\n\t\tgrinder<span class=\"token punctuation\">.</span>logger<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"before. init headers and cookies\"</span></span><span class=\"token punctuation\">)</span>\r\n\t<span class=\"token punctuation\">}</span>\r\n\r\n\t<span class=\"token annotation punctuation\">@Test</span>\r\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\tHTTPResponse response <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">GET</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"http://111.111.111.111:8081/test\"</span></span><span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">)</span>\r\n\r\n\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">==</span> <span class=\"token number\">301</span> <span class=\"token operator\">||</span> response<span class=\"token punctuation\">.</span>statusCode <span class=\"token operator\">==</span> <span class=\"token number\">302</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\t\tgrinder<span class=\"token punctuation\">.</span>logger<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"Warning. The response may not be correct. The response code was {}.\"</span></span><span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">.</span>statusCode<span class=\"token punctuation\">)</span>\r\n\t\t<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\r\n\t\t\t<span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>statusCode<span class=\"token punctuation\">,</span> <span class=\"token function\">is</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\n\t\t<span class=\"token punctuation\">}</span>\r\n\t<span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>성능 테스트 메뉴에서 테스트 생성을 누르면 밑에 페이지가 뜨게 됩니다.</p>\n<br>\r\n<center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/088107b153cc0edd863d96933a4bf687/fe5a5/ngrinder_3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.020833333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiUlEQVR42nVRwXLTQAz1/38Af8A3cOMQmgw9Qhsn09IeeihlGEhieyWttNIirUNwB9A8e9dePT3pbdd/ev949/G+v9rdrPa3q/3N6q5f3+82/8B+s99d9dtNv13vttcPXx66zy/FJOWM1coZVVWFmYhAC88/Rfgw4uZl/fb26c11ffzpabUbgBMQYC6qZ5SAiBPKvG+fmrkkxpH4hAZUzKzz+pFyYTZ41Ba6+ONhatVMvaxIKCPRnOSV6u9g1eeE3zFPKSWAOHNOY/vpNAFAsDpm9iUBjlOaO/RKJ+J3T98+fP0xTJN37HOlhK5GiJ5wOA7ebFNG8KqIQR78AfAXUZ5bCD0zYjkcT47jMIoaZp7nCuU2crRWYhh2p86jFvNWWFwTmSEHfE9S0A+DnDPbn6iLwWsULWIFArpASabNsMz8ijuv7gLL85iqSsuGVyUW5LhRb96XTCSZ5iJ+7xNL9csp8Bcu5DY9IF08XIbNZP2Pspvkzrh45hwetdDwqaQsLfISxU9i45LlFxAN8J46xArEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/088107b153cc0edd863d96933a4bf687/a59e9/ngrinder_3.webp 192w,\n/static/088107b153cc0edd863d96933a4bf687/0ca9f/ngrinder_3.webp 384w,\n/static/088107b153cc0edd863d96933a4bf687/dc9b9/ngrinder_3.webp 768w,\n/static/088107b153cc0edd863d96933a4bf687/e2c2f/ngrinder_3.webp 1152w,\n/static/088107b153cc0edd863d96933a4bf687/ab1e2/ngrinder_3.webp 1425w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/088107b153cc0edd863d96933a4bf687/3b721/ngrinder_3.png 192w,\n/static/088107b153cc0edd863d96933a4bf687/66595/ngrinder_3.png 384w,\n/static/088107b153cc0edd863d96933a4bf687/fe486/ngrinder_3.png 768w,\n/static/088107b153cc0edd863d96933a4bf687/d2d74/ngrinder_3.png 1152w,\n/static/088107b153cc0edd863d96933a4bf687/fe5a5/ngrinder_3.png 1425w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/088107b153cc0edd863d96933a4bf687/fe486/ngrinder_3.png\"\n            alt=\"성능 테스트 페이지\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n</center>\r\n<br>\n<p>에이전트는 우리가 333.333.333.333에 연결된 Agent를 말하는 것이고 가상유저는 실제 사용자의 행동을 모방하여 서버에 시뮬레이션된 부하를 생성하는 클라이언트를 말합니다.</p>\n<p>스크립트를 넣어주고 테스트 대상 서버를 선정후 저장 후 시작을 누르면 성능 테스트를 진행하게 되고 그 결과를 리포트 형태로 받아볼 수 있습니다.</p>\n<br>\r\n<center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0beab2cfa9e68ea45e9c14b7e361e088/5e281/ngrinder_4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.27083333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7klEQVR42n1Ru07EQAzc/y8o+SEqOnpEdaIDhC7xJn4z672I4wSMRqvJrsd27MbqfZd9ZzPzAxHhbv8w0xDSWExtBEdmFGAmosqQN3RP4PSZ94/58h6NmYcjc7gL+BJhN/mLneX0IcTReu/VcOwseUBVwmjSdQVNVwVl0GyNWB1tn5cz/Oi1E92YTUkPQruhDIX39B7W8XeNqnK1+qNyRV+Kj2iHrUTdIMswq+mck6pemdV1M6S3DaLYDTelcapss/K27d+2ObBlWdDIXN5c4NRqY0lPr3734M9v0bBg4lS/MmPytahfgXfFdDXM4wuqbBEsNj+SXwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/0beab2cfa9e68ea45e9c14b7e361e088/a59e9/ngrinder_4.webp 192w,\n/static/0beab2cfa9e68ea45e9c14b7e361e088/0ca9f/ngrinder_4.webp 384w,\n/static/0beab2cfa9e68ea45e9c14b7e361e088/dc9b9/ngrinder_4.webp 768w,\n/static/0beab2cfa9e68ea45e9c14b7e361e088/e2c2f/ngrinder_4.webp 1152w,\n/static/0beab2cfa9e68ea45e9c14b7e361e088/e6692/ngrinder_4.webp 1407w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/0beab2cfa9e68ea45e9c14b7e361e088/3b721/ngrinder_4.png 192w,\n/static/0beab2cfa9e68ea45e9c14b7e361e088/66595/ngrinder_4.png 384w,\n/static/0beab2cfa9e68ea45e9c14b7e361e088/fe486/ngrinder_4.png 768w,\n/static/0beab2cfa9e68ea45e9c14b7e361e088/d2d74/ngrinder_4.png 1152w,\n/static/0beab2cfa9e68ea45e9c14b7e361e088/5e281/ngrinder_4.png 1407w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/0beab2cfa9e68ea45e9c14b7e361e088/fe486/ngrinder_4.png\"\n            alt=\"성능 결과\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n</center>\r\n<br>\n<h2>사용시 주의점</h2>\n<ul>\n<li>\n<p>성능 테스트의 에러율은 0 이여야 합니다. 에러율이 나오면 응답이 빨라지고 의미 있는 데이터를 얻을 수 없습니다.</p>\n</li>\n<li>\n<p>외부 API나 결제 모듈 등을 사용하는 경우 해당 endpoint를 포함해서 성능 테스트를 진행하게 되면 IP차단 등 다양한 문제가 발생할 수 있습니다. 이때는 외부연계의 평균 응답 시간을 측정하여 가짜 객체를 넣은 다음 해당 시간만큼 쓰레드 락을 걸면 됩니다.</p>\n</li>\n<li>\n<p>모든 것을 성능 테스트 하지 않습니다.</p>\n</li>\n<li>\n<p>만약 문제가 생기면 해결을 위해 로그파일을 볼텐데 이것만 가지고는 문제의 원인을 다 찾을 수 없습니다. 그래서 성능 테스트를 진행할 때는 반드시 모니터링 환경이 있어야합니다.</p>\n</li>\n</ul>\n<h1>출처</h1>\n<p><a href=\"https://www.slideshare.net/junhoyoon3994/ngrinder-30-load-test-even-kids-can-do?from_search=0\" target=\"_blank\"><strong><a href=\"https://www.slideshare.net/junhoyoon3994/ngrinder-30-load-test-even-kids-can-do?from_search=0\" target=\"_blank\" rel=\"nofollow\">https://www.slideshare.net/junhoyoon3994/ngrinder-30-load-test-even-kids-can-do?from_search=0</a></strong></a></p>","frontmatter":{"title":"nGrinder를 사용해 성능 테스트를 해보자","summary":"nGrinder를 사용해서 성능 테스트를 진행하는 방법에 대해 알아보겠습니다.","date":"2023.06.10.","categories":["Performance Test","nGrinder"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/webp;base64,UklGRsAAAABXRUJQVlA4ILQAAACQBACdASoUAAsAPp0+mUgloyKhMAgAsBOJaACdMoAlohSsq4wJoXBXC/sbCiAA/od9a/L+xjv+0rMV/l1qkl7sFqsor/ZcwLgIbR0ulo8lu4ErD9tmqW32LHCmKV2tesiRo79OVQ/bFuyr2C/yTVGYC1aG/qIMQPTYBEYk2PDATjU1zr6jWsivuH1/e969fziy54orZbL5eAOqw6e/9pYzzwRBS3Sd0ntPAO7KgWLHqAQAAAA="},"images":{"fallback":{"src":"/static/8801a3d3cfdddc3ab2cf8cb3a608bcd3/a7f05/nGrinder_main.webp","srcSet":"/static/8801a3d3cfdddc3ab2cf8cb3a608bcd3/41dd1/nGrinder_main.webp 448w,\n/static/8801a3d3cfdddc3ab2cf8cb3a608bcd3/69efe/nGrinder_main.webp 896w,\n/static/8801a3d3cfdddc3ab2cf8cb3a608bcd3/a7f05/nGrinder_main.webp 1792w","sizes":"(min-width: 1792px) 1792px, 100vw"},"sources":[]},"width":1792,"height":1024}},"publicURL":"/static/8801a3d3cfdddc3ab2cf8cb3a608bcd3/nGrinder_main.webp"}}}}]}},"pageContext":{"slug":"/2023_06_10_ngrinder/"}},"staticQueryHashes":[],"slicesMap":{}}