---
title: DEVRIDGE 프로젝트 성능 개선
written_by: woosungkim0123
date: 2023-10-25 20:00:00 +0800
categories: [경험, 개선]
tags: [성능 테스트, DEVRIDGE, 소프트웨어 마에스트로]
---

<br>
<br>

### DEVRIDGE 소개

사용자에게 채용정보를 기반으로 하여 회사와 직무에 관한 로드맵을 제공하고 그에 맞는 강의, 책 등 다양한 학습방법을 제시하여 취업이나 이직에 도움을 주기 위한 프로젝트

<br>

### 성능 개선 그래프

**Pre-optimization**

![성능 개선 전 그래프](/posts/devridge/devridge_1.png)

**TPS : 177.1**  
Vuser : 99,  Errors 0


**Post-optimization**

![성능 개선 후 그래프](/posts/devridge/devridge_2.png)

**TPS : 337.8**  
Vuser : 99,  Errors 0

<br>

### 성능 저하 원인

가장 활발히 사용되고 있는 로드맵 API는 다수의 테이블 간에 복잡한 조인을 통해 데이터가 연결됩니다. 

로드맵을 구성하는 각 노드에는 상세 기술 정보가 담겨 있으며, 채용 공고에 기재된 스킬이 이 상세 기술들과 일치하면, 자동으로 깃발을 세워 일치 여부를 표시합니다. 또한, 사용자의 학습 정보도 이 노드들과 매칭되어 있습니다.

채용 스킬과 코스 상세 일치 여부를 파악하기 위해 많은 테이블 조인이 들어가는 점이 성능을 안나오게 하는 원인이였습니다.

![devridge node](/posts/devridge/devridge_3.png)

<br>

### 개선

공개된 채용 공고와 요구 스킬들은 거의 변경되지 않는다는 점을 깊이 고려하여, 데이터베이스의 조인 연산 부담을 줄이기 위해 중간 테이블을 구축했습니다. 이 중간 테이블에는 코스 상세 정보와 채용 요구 스킬 간의 매칭 여부를 '매칭 여부'라는 칼럼에 미리 계산하여 저장함으로써, 실시간으로 다대다 조인을 수행하는 대신 필요한 정보를 신속하게 검색할 수 있게 되었습니다.

중간 테이블은 채용 정보가 등록되는 즉시 자동으로 업데이트 되어 매칭 여부를 계산하고, 이는 관리자 페이지에서 손쉽게 관리될 수 있도록 설정하였습니다.

이러한 변화를 통해, 시스템의 TPS는 이전의 177.1에서 337.8로 약 90.7% 상승하였습니다.

![devridge erd](/posts/devridge/devridge_4.png)

<br>

### 역정규화 (Denormalization)

중간 테이블을 만들어서 데이터 처리의 복잡성을 줄이고 성능을 개선하는 방식

데이터베이스의 정규화된 구조를 일부러 중복을 허용하게 하여, 조인 연산을 줄이고, 읽기 성능을 향상시키기 위한 방법입니다. 이 과정에서 데이터를 중간 테이블과 같은 구조로 사전에 계산하거나 집계하여 저장함으로써, 실시간으로 복잡한 조인을 수행하지 않고도 빠른 데이터 접근이 가능해집니다.