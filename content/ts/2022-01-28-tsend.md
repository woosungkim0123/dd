---
layout: post
current: post
cover: assets/built/images/js.jpg
navigation: True
title: obejct 타입 변환기
date: 2022-01-28 21:00
tags: [ts]
class: post-template
subclass: "post tag-python"
author: Lome
---

<br>

<strong class="subtitle_fontAwesome">obejct 타입 변환기</strong>

<strong class="subtitle2_fontAwesome">keyof</strong>

```typescript
let obj = { name: "kim" };
// object의 키값을 출력해보고 싶을때
Object.keys(obj); // 배열에 담아 출력

// 이거랑 굉장히 유사한 기능을 타입스크립트도 제공
// object 타입의 키값을 출력(keyof)
interface Person {
  age : number,
  name : string
}
keyof Person // 'age' | 'name' 이 남음

type PersonKeys = keyof Person
let a :PersonKeys = 'age'
```

```typescript
// 실수로 짠 type
type Car = {
  color: boolean;
  model: boolean;
  price: boolean | number;
};

// 타입 변환기를 만들어서 변경
type TypeChanger<MyType> = {
  // MyType이라는 파라미터로 변환할 타입이 들어옴
  [key in keyof MyType]: string;
  // Car 안에 키값을 뽑아서 유니온 타입으로 만듬
  // 'color' | 'model' | 'price'
  // 왼쪽에 있는 key값이 오른쪽에 있는 유니온 타입에 있으면 string으로 바꿔주세요 라는 의미
};
type 새로운타입 = TypeChanger<Car>;
```

mapping(a에서 b로 변환시켜주는 것을 의미)이라고 한다

```typescript
type TypeChange<MyType, T> = {
  [key in keyof MyType] = T
}
type NewBus = TypeChange<Bus, boolean>
```

<br>

<strong class="subtitle2_fontAwesome">조건부로 타입 만들기</strong>

```typescript
// 조건식은 extends 써야함(왼쪽의 타입이 오른쪽 타입을 가지고 있는지)
type Age<T> = T extends string ? string : unknown;

let a: Age<string>;
```

<br>

<strong class="subtitle2_fontAwesome">infer 키워드</strong>

조건문에서 쓸 수 있는 infer 키워드

타입을 왼쪽에서 추출해줌

```typescript
// T에서 타입을 뽑아서 R에 넣어주세요
type Person<T> = T extends infer R ? string : unknown;
```

```typescript
// R에 string이 됨 (그나마 실용성이 있음)
type 타입추출<T> = T extends (infer R)[] ? string : unknown;

type a = 타입추출<string[]>;
```

<br>

<strong class="subtitle2_fontAwesome">함수 리턴타입을 찾는 방법</strong>

```typescript
// 안에 함수를 입력하면 함수만 뽑아서 return 타입만 남겨줌
type b = ReturnType<() => voide>;
```
